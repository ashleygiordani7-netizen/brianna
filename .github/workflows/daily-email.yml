name: Send Daily Email

on:
  schedule:
    - cron: '0 13 * * *' # Runs every day at 13:00 UTC
  workflow_dispatch:      # Manual trigger option

jobs:
  send_email:
    runs-on: ubuntu-latest
    steps:
      - name: Send Email via SendGrid
        run: |
          curl --request POST \
          --url https://api.sendgrid.com/v3/mail/send \
          --header "Authorization: Bearer ${{ secrets.SENDGRID_API_KEY }}" \
          --header 'Content-Type: application/json' \
          --data '{
            "personalizations": [{"to": [{"email": "${{ secrets.TO_EMAIL }}"}]}],
            "from": {"email": "${{ secrets.FROM_EMAIL }}"},
            "subject": "Good Morning",
            "content": [
              {
                "type": "text/plain",
                "value": "Hope you have a lovely day\nClick the link below to check out your message of the day:\nhttps://ashleygiordani7-netizen.github.io/brianna/"
              }
            ]
          }'
